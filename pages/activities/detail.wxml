<!-- pages/activities/detail.wxml -->
<view class="detail-header">
  <text class="detail-title">{{detail.title}}</text>
</view>

<view class="detail-cover banner banner--{{detail.banner}}">
  <view class="cover-status">{{detail.status}}</view>
  <view class="cover-type">{{detail.type}}</view>
</view>

<view class="section">
  <view class="card shadow-card detail-card">
    <text class="text-sm text-gray-500 mb-16">{{detail.desc}}</text>

    <view class="organizer">
      <view class="organizer-avatar">{{extra.organizerInitial}}</view>
      <view class="flex-col">
        <text class="text-md text-gray-800">{{extra.organizer}}</text>
        <text class="text-xs text-gray-500">æ´»åŠ¨ç»„ç»‡è€…</text>
      </view>
    </view>

    <view class="info-list">
      <view class="info-item">
        <view class="info-item__icon" style="background:#DBEAFE; color:#1d4ed8;">ğŸ•</view>
        <view class="flex-col info-item__body">
          <text class="info-label">æ´»åŠ¨æ—¶é—´</text>
          <text class="info-value">{{detail.timeRange}}</text>
          <text class="info-hint">æŠ¥åæˆªæ­¢ï¼š{{extra.deadline}}</text>
        </view>
      </view>
      <view class="info-item">
        <view class="info-item__icon" style="background:#DCFCE7; color:#047857;">ğŸ“</view>
        <view class="flex-col info-item__body">
          <text class="info-label">æ´»åŠ¨åœ°ç‚¹</text>
          <text class="info-value">{{detail.place}}</text>
          <text class="info-hint">{{extra.addressDetail}}</text>
        </view>
      </view>
      <view class="info-item">
        <view class="info-item__icon" style="background:#FDE68A; color:#B45309;">ğŸ‘¥</view>
        <view class="flex-col info-item__body">
          <text class="info-label">å‚ä¸äººæ•°</text>
          <text class="info-value">{{detail.joined}} / {{detail.total}} äºº</text>
          <view class="progress mt-12"><view class="bar" style="width: {{progress}}%"></view></view>
        </view>
      </view>
      <view class="info-item">
        <view class="info-item__icon" style="background:#E0E7FF; color:#4338CA;">ğŸ’°</view>
        <view class="flex-col info-item__body">
          <text class="info-label">æ´»åŠ¨è´¹ç”¨</text>
          <text class="info-value">{{extra.feeInfo}}</text>
        </view>
      </view>
      <view class="info-item">
        <view class="info-item__icon" style="background:#FEF3C7; color:#D97706;">ğŸ”–</view>
        <view class="flex-col info-item__body">
          <text class="info-label">æ´»åŠ¨ç¼–å·</text>
          <text class="info-value">{{detail.id}}</text>
          <text class="info-hint">æ´»åŠ¨å”¯ä¸€æ ‡è¯†</text>
        </view>
      </view>
    </view>
  </view>
</view>

<view class="section">
  <view class="card shadow-card participants-card">
    <view class="row-between mb-16">
      <text class="text-lg text-gray-800">å‚ä¸æˆå‘˜ ({{members.length}})</text>
      <view class="text-sm text-blue-500" bindtap="viewAllMembers" hover-class="none">æŸ¥çœ‹å…¨éƒ¨</view>
    </view>
    <view class="participants-grid">
      <block wx:for="{{members}}" wx:key="id" wx:for-item="item">
        <view class="participants-item">
          <image src="{{item.avatar}}" mode="cover" class="participants-avatar" />
          <text class="text-xs text-gray-600">{{item.name}}</text>
        </view>
      </block>
    </view>
  </view>
</view>

<view class="bottom-space"></view>
<view class="fixed-footer">
  <button class="btn btn--secondary footer-btn" bindtap="onShare">åˆ†äº«</button>
  <button class="btn {{isRegistered ? 'btn--danger' : 'btn--primary'}} footer-btn" bindtap="{{isRegistered ? 'cancelRegistration' : 'goRegister'}}">{{isRegistered ? 'å–æ¶ˆæŠ¥å' : 'æŠ¥å'}}</button>
</view>