<!-- pages/home/index.wxml -->
<view class="px-24 py-24">
  <scroll-view scroll-x class="scroll-x" style="padding-bottom: 12rpx;" show-scrollbar="false">
    <block wx:for="{{slides}}" wx:key="id" wx:for-item="item">
      <view class="chip">
        <view class="card home-banner">
          <image class="banner-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
          <view class="banner-overlay"></view>

          <!-- æ´»åŠ¨ç±»å‹æ ‡ç­¾ - å³ä¸Šè§’ -->
          <view class="home-type-badge">
            <text class="home-badge-text">{{item.type}}</text>
          </view>

          <!-- æ´»åŠ¨çŠ¶æ€æ ‡ç­¾ - å·¦ä¸Šè§’ -->
          <view class="home-status-badge home-status-badge--{{item.statusClass}}">
            <text class="home-badge-text-white">{{item.status}}</text>
          </view>

          <!-- æ´»åŠ¨ä¿¡æ¯ - åº•éƒ¨ -->
          <view class="home-banner-info">
            <text class="home-banner-title">{{item.title}}</text>
            <view class="home-banner-meta">
              <text class="home-banner-meta-text">{{item.date}}</text>
              <text class="home-banner-meta-text" style="margin-left:16rpx;">{{item.place}}</text>
            </view>
          </view>
        </view>
      </view>
    </block>
  </scroll-view>

  <scroll-view scroll-x class="scroll-x mt-24" style="padding-bottom: 8rpx;" show-scrollbar="false">
    <block wx:for="{{categories}}" wx:key="name" wx:for-item="item">
      <view class="chip">
        <view class="tag {{item.active ? 'tag--active' : ''}}" bindtap="onCategoryTap" data-key="{{item.key}}">{{item.name}}</view>
      </view>
    </block>
  </scroll-view>
</view>

<view class="px-24 quick-actions">
  <view class="quick-grid quick-grid--two">
    <view class="quick-card" bindtap="goCreateActivity">
      <view class="quick-icon quick-icon--blue">
        <view class="quick-icon-plus quick-icon-plus--vertical"></view>
        <view class="quick-icon-plus quick-icon-plus--horizontal"></view>
      </view>
      <text class="quick-title">åˆ›å»ºæ´»åŠ¨</text>
      <text class="quick-desc">å¿«é€Ÿå‘èµ·æ´»åŠ¨</text>
    </view>
    <view class="quick-card" bindtap="goMyActivities">
      <view class="quick-icon quick-icon--green">
        <view class="quick-icon-list">
          <view class="quick-icon-list-bar quick-icon-list-bar--long"></view>
          <view class="quick-icon-list-bar quick-icon-list-bar--medium"></view>
          <view class="quick-icon-list-bar quick-icon-list-bar--long"></view>
        </view>
      </view>
      <text class="quick-title">æˆ‘çš„æ´»åŠ¨</text>
      <text class="quick-desc">ç®¡ç†æ—¥ç¨‹è®¡åˆ’</text>
    </view>
  </view>
</view>

<view class="px-24 pb-24">
  <block wx:for="{{list}}" wx:key="id" wx:for-item="item">
    <view class="card mb-24" bindtap="goDetail" data-id="{{item.id}}">
      <view class="banner-container">
        <image class="banner-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="banner-overlay"></view>

        <!-- æ´»åŠ¨ç±»å‹æ ‡ç­¾ - å³ä¸Šè§’ -->
        <view class="list-type-badge">
          <text class="list-badge-text">{{item.type}}</text>
        </view>

        <!-- æ´»åŠ¨çŠ¶æ€æ ‡ç­¾ - å·¦ä¸Šè§’ -->
        <view class="list-status-badge list-status-badge--{{item.statusClass}}">
          <text class="list-badge-text-white">{{item.status}}</text>
        </view>

        <!-- åˆ›å»ºäººæ˜µç§° - å·¦ä¸‹è§’ -->
        <view class="organizer-badge">
          <text class="organizer-text">ğŸ‘¤ {{item.organizerName || 'ç»„ç»‡è€…'}}</text>
        </view>

        <!-- æ´»åŠ¨ç¼–å· - å³ä¸‹è§’ -->
        <view class="activity-id-badge">
          <text class="activity-id-text">No. {{item.id}}</text>
        </view>
      </view>

      <view class="card--pad">
        <text class="text-lg mb-12">{{item.title}}</text>
        <view class="row text-sm mb-12">
          <text>{{item.date}}</text>
          <text style="margin-left: 24rpx;">{{item.place}}</text>
        </view>
        <view class="row-between">
          <text class="text-sm">å·²æŠ¥ {{item.joined}}/{{item.total}} äºº</text>
          <view class="btn {{item.isRegistered ? 'btn--registered' : 'btn--primary'}} btn--small" catchtap="{{item.isRegistered ? 'onRegisteredClick' : 'goRegister'}}" data-id="{{item.id}}">{{item.isRegistered ? 'å·²æŠ¥å' : 'ç«‹å³æŠ¥å'}}</view>
        </view>
      </view>
    </view>
  </block>
</view>

<view class="bottom-space"></view>
